---
title: Implementing the ThirdWeb Marketplace Contract in Solidity
date: 2024/2/2
description: A Marketplace is a contract where you can buy and sell NFTs, such as OpenSea or Rarible. The Marketplace contract allows users to list NFTs for direct sale or auction. Other users can place offers/bids or buy the NFTs for the specified amount in the listing.
tag: smart contracts, ethereum, evm, blockchain, web3, thirdweb, nft, marketplace
author: Matt Pantaleone
---

# NFT Marketplace

### Thirdweb is a platform that helps developers build, manage, and analyze Web3 applications. 

Thirdweb has a variety of pre-built NFT contracts that users can customize and implement.  We will be looking at the NFT Marketplace contract here.

### Implementing the ThirdWeb Marketplace Contract in Solidity

The ThirdWeb Marketplace Contract is a widely used open-source contract that provides a standardized way of creating decentralized marketplaces on the Ethereum blockchain. In this article, we will go over the steps to properly implement the ThirdWeb Marketplace Contract (version 3) in your Solidity smart contract project.

import { Steps } from 'nextra/components'
 
<Steps>
### Step 1: Understand the Contract Structure
 
Before diving into the implementation, it's important to understand the structure of the ThirdWeb Marketplace Contract. The contract consists of several main components:

- **struct Marketplace**: This struct defines the parameters of the marketplace, such as the listing fee, withdrawal fee, and the duration of listings.
- **mapping(address => mapping(uint256 => Listing)) public listings**: This maps each seller's address to a mapping of their listings, where each listing is represented by a Listing struct.
- **struct Listing**: This struct contains information about a single listing, including the item being sold, the price, and the status of the listing.
- **event ListingCreated(address indexed seller, uint256 indexed listingId, address indexed buyer, uint256 indexed price, bool indexed isBuyout)**: This event is emitted when a new listing is created.
- **event ListingWithdrawn(address indexed seller, uint256 indexed listingId)**: This event is emitted when a seller withdraws a listing.
- **event ListingBought(address indexed buyer, uint256 indexed listingId, uint256 indexed price)**: This event is emitted when a buyer purchases a listing.

### Step 2: Import the Contract
 
To use the ThirdWeb Marketplace Contract in your Solidity project, you first need to import it into your contract file. You can do this by adding the following line at the top of your contract file:

```solidity filename="Solidity NFT Project"
solidity pragma solidity ^0.8.0; import "https://github.com/ThirdWeb/thirdweb.eth/blob/v3.0.0/contracts/marketplace/Marketplace.sol";
```

### Step 3: Create a New Marketplace

To create a new marketplace, you need to deploy a new instance of the **Marketplace** contract. Here's an example of how to do this using Truffle Suite:

```solidity filename="Solidity NFT Project"
truffle deploy --reset Marketplace.sol
```

This will deploy a new instance of the Marketplace contract to the Ethereum network, and return the address of the deployed contract.

### Step 4: Interact with the Marketplace

Now that you have deployed a new marketplace, you can interact with it using the **Marketplace** contract's functions. Here are some examples:

#### Creating a Listing

To create a listing, you can call the createListing function and pass in the required parameters. Here's an example:

```js filename="NFT Contract Interaction"
// Get the address of the marketplace contract
let marketplaceAddress = "0x...";

// Create a new listing
let listing = await Marketplace.createListing(marketplaceAddress, {
  name: "Example Item",
  description: "An example item for sale.",
  price: web3.utils.toWei("1", "ether"),
  quantity: 1,
});
```

In this example, we're calling the **createListing** function and passing in the name, description, price, and quantity of the item being sold. The function returns the ID of the newly created listing.

#### Withdrawing a Listing

To withdraw a listing, you can call the **withdrawListing** function and pass in the ID of the listing you want to withdraw. Here's an example:

```js filename="NFT Contract Interaction"
// Get the address of the marketplace contract
let marketplaceAddress = "0x...";

// Withdraw a listing
await Marketplace.withdrawListing(marketplaceAddress, 1);
```

In this example, we're calling the **withdrawListing** function and passing in the ID of the listing we want to withdraw.

</Steps>

The pre-built Thirdweb NFT contract makes it easy to get going in web3.  Give us a shout if you need some help!

More about Thirdwebs NFT Marketplace Contract here - [https://portal.thirdweb.com/contracts/explore/pre-built-contracts/marketplace](https://portal.thirdweb.com/contracts/explore/pre-built-contracts/marketplace)